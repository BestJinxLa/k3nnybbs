/*
Navicat MySQL Data Transfer

Source Server         : k3nnybbs
Source Server Version : 50719
Source Host           : 192.168.10.10:3306
Source Database       : k3nny

Target Server Type    : MYSQL
Target Server Version : 50719
File Encoding         : 65001

Date: 2018-04-15 23:41:54
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for categories
-- ----------------------------
DROP TABLE IF EXISTS `categories`;
CREATE TABLE `categories` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '名称',
  `description` text COLLATE utf8mb4_unicode_ci COMMENT '描述',
  `post_count` int(11) NOT NULL DEFAULT '0' COMMENT '帖子数',
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `categories_name_index` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ----------------------------
-- Records of categories
-- ----------------------------
INSERT INTO `categories` VALUES ('1', '分享', '分享创造，分享发现', '0', null, null);
INSERT INTO `categories` VALUES ('2', '教程', '开发技巧、推荐扩展包等', '0', null, null);
INSERT INTO `categories` VALUES ('3', '问答', '请保持友善，互帮互助', '0', null, null);
INSERT INTO `categories` VALUES ('4', '公告', '站点公告', '0', null, null);

-- ----------------------------
-- Table structure for failed_jobs
-- ----------------------------
DROP TABLE IF EXISTS `failed_jobs`;
CREATE TABLE `failed_jobs` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `connection` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `queue` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `payload` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `exception` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `failed_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ----------------------------
-- Records of failed_jobs
-- ----------------------------

-- ----------------------------
-- Table structure for migrations
-- ----------------------------
DROP TABLE IF EXISTS `migrations`;
CREATE TABLE `migrations` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `migration` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `batch` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ----------------------------
-- Records of migrations
-- ----------------------------
INSERT INTO `migrations` VALUES ('19', '2014_10_12_000000_create_users_table', '1');
INSERT INTO `migrations` VALUES ('20', '2014_10_12_100000_create_password_resets_table', '1');
INSERT INTO `migrations` VALUES ('21', '2018_04_11_163242_add_avatar_and_introduction_to_users_table', '1');
INSERT INTO `migrations` VALUES ('22', '2018_04_12_173229_create_categories_table', '1');
INSERT INTO `migrations` VALUES ('23', '2018_04_12_175859_seed_categories_data', '1');
INSERT INTO `migrations` VALUES ('24', '2018_04_13_094351_create_topics_table', '1');
INSERT INTO `migrations` VALUES ('25', '2018_04_15_185810_create_failed_jobs_table', '2');

-- ----------------------------
-- Table structure for password_resets
-- ----------------------------
DROP TABLE IF EXISTS `password_resets`;
CREATE TABLE `password_resets` (
  `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `token` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  KEY `password_resets_email_index` (`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ----------------------------
-- Records of password_resets
-- ----------------------------

-- ----------------------------
-- Table structure for topics
-- ----------------------------
DROP TABLE IF EXISTS `topics`;
CREATE TABLE `topics` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `body` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_id` int(10) unsigned NOT NULL,
  `category_id` int(10) unsigned NOT NULL,
  `reply_count` int(10) unsigned NOT NULL DEFAULT '0',
  `view_count` int(10) unsigned NOT NULL DEFAULT '0',
  `last_reply_user_id` int(10) unsigned NOT NULL DEFAULT '0',
  `order` int(10) unsigned NOT NULL DEFAULT '0',
  `excerpt` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `slug` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `topics_title_index` (`title`),
  KEY `topics_user_id_index` (`user_id`),
  KEY `topics_category_id_index` (`category_id`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ----------------------------
-- Records of topics
-- ----------------------------
INSERT INTO `topics` VALUES ('2', '5.4. 显示帖子', '<p> 5.4. 显示帖子<br /></p>\n\n<p><a href=\"https://laravel-china.org/courses/laravel-intermediate-training-5.5\"> Laravel 教程 - Web 开发实战进阶 ( Laravel 5.5 )</a> <span style=\"color:rgb(202,202,202);\">/</span> <a> 第五章. 帖子的 CRUD</a></p>\n\n<h2>帖子详情页</h2>\n\n<p>现在我们已经能撰写文章，发布帖子了，接下来我们把发布的内容显示出来。</p>\n\n<h2>1. 路由和控制器</h2>\n\n<p>代码生成器已经为我们生成了路由和控制器的代码，我们看下 <code>show()</code> 方法：</p>\n\n<p>app/Http/Controllers/TopicsController.php</p>\n\n<pre><code><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\" style=\"color:rgb(102,217,239);\">class</span> <span class=\"token class-name\">TopicsController</span> <span class=\"token keyword\" style=\"color:rgb(102,217,239);\">extends</span> <span class=\"token class-name\">Controller</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\" style=\"color:rgb(102,217,239);\">public</span> <span class=\"token keyword\" style=\"color:rgb(102,217,239);\">function</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">show</span><span class=\"token punctuation\">(</span>Topic <span class=\"token variable\">$topic</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\" style=\"color:rgb(102,217,239);\">return</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">view</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'topics.show\'</span><span class=\"token punctuation\">,</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">compact</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'topic\'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre>\n\n<p>注意此处使用 Laravel 的 <a href=\"https://d.laravel-china.org/docs/5.5/routing#%E9%9A%90%E5%BC%8F%E7%BB%91%E5%AE%9A\">『隐性路由模型绑定』</a> 功能，当请求 <a href=\"http://larabbs.test/topics/1\">http://larabbs.test/topics/1</a> 时，<code>$topic</code> 变量会自动解析为 ID 为 1 的帖子对象。</p>\n\n<h2>2. 修改模板</h2>\n\n<p>接下来修改模板：</p>\n\n<p>resources/views/topics/show.blade.php</p>\n\n<pre><code>@<span class=\"token keyword\" style=\"color:rgb(102,217,239);\">extends</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'layouts.app\'</span><span class=\"token punctuation\">)</span>\n\n@<span class=\"token function\" style=\"color:rgb(230,219,116);\">section</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'title\'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">title</span><span class=\"token punctuation\">)</span>\n@<span class=\"token function\" style=\"color:rgb(230,219,116);\">section</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'description\'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">excerpt</span><span class=\"token punctuation\">)</span>\n\n@<span class=\"token function\" style=\"color:rgb(230,219,116);\">section</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'content\'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>row<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n\n    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>col-lg-3 col-md-3 hidden-sm hidden-xs author-info<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n        <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>panel panel-default<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n            <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>panel-body<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>text-center<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                    作者：<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">user</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">name</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>hr</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>media<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">align</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>center<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                        <span class=\"token markup\"><a href=\"%7B%7B%20route(\'users.show\',%20$topic-\">-</a></span><a href=\"%7B%7B%20route(\'users.show\',%20$topic-\"><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\"<span class=\"token operator\">&gt;</span>\n                            <span class=\"token markup\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">avatar</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\" width=\"</span>300px<span class=\"token string\" style=\"color:rgb(166,226,46);\">\" height=\"</span>300px\"<span class=\"token operator\">&gt;</span>\n                        <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">a</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n            <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n        <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n\n    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>col-lg-9 col-md-9 col-sm-12 col-xs-12 topic-content<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n        <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>panel panel-default<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n            <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>panel-body<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>h1</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>text-center<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                    <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">title</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">h1</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>article-meta text-center<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                    <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">created_at</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\" style=\"color:rgb(230,219,116);\">diffForHumans</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                    ⋅\n                    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>span</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>glyphicon glyphicon-comment<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">aria-hidden</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>true<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span><span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">span</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                    <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">reply_count</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>topic-body<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                    <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span> <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">body</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token punctuation\">}</span>\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>operate<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>hr</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                    </span></span></span></span></span></span></span></span></span></span></a><a href=\"%7B%7B%20route(\'topics.edit\',%20$topic-\">)</a></span><a href=\"%7B%7B%20route(\'topics.edit\',%20$topic-\"> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\" class=\"</span>btn btn<span class=\"token operator\">-</span><span class=\"token keyword\" style=\"color:rgb(102,217,239);\">default</span> btn<span class=\"token operator\">-</span>xs<span class=\"token string\" style=\"color:rgb(166,226,46);\">\" role=\"</span>button\"<span class=\"token operator\">&gt;</span>\n                        <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>i</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>glyphicon glyphicon-edit<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span><span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">i</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span> 编辑\n                    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">a</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>a</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">href</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>#<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>btn btn-default btn-xs<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">role</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>button<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                        <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>i</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>glyphicon glyphicon-trash<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span><span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">i</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span> 删除\n                    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">a</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n                <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n\n            <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n        <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n<span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n@stop</span></span></span></span></span></span></span></span></span></a></code></pre>\n\n<p><a href=\"%7B%7B%20route(\'topics.edit\',%20$topic-\">话题字段 <code>excerpt</code> 是文章摘录，用作 SEO 页面描述使用，因此我们还需要修改主布局模板，新增 <code>description</code> 原标签：</a></p>\n\n<p><a href=\"%7B%7B%20route(\'topics.edit\',%20$topic-\">resources/views/layouts/app.blade.php</a></p>\n\n<pre><code><a href=\"%7B%7B%20route(\'topics.edit\',%20$topic-\"><code><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>title</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>@<span class=\"token keyword\" style=\"color:rgb(102,217,239);\">yield</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'title\'</span><span class=\"token punctuation\">,</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'LaraBBS\'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> Laravel 进阶教程<span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">title</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n    <span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>meta</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">name</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>description<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">content</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>@yield(<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\'</span>description<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\'</span>, <span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\'</span>LaraBBS 爱好者社区<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\'</span>)<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span> <span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">/&gt;</span></span></span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span></span></code></a></code></pre>\n\n<h2><a href=\"%7B%7B%20route(\'topics.edit\',%20$topic-\">3. 测试一下</a></h2>\n\n<p><a href=\"%7B%7B%20route(\'topics.edit\',%20$topic-\">为了方便测试，我们将复制 </a><a href=\"https://laravel-china.org/articles/3405/why-is-php-the-best-language-it-is-and-will-be\">这篇文章</a> 内容到我们新建的文章中：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/16/1/7NpdXcWVhA.png\" alt=\"file\" /></p>\n\n<p>点击发布：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/16/1/G9FkZfqMjd.png\" alt=\"file\" /></p>\n\n<p>发现消息提示的类型不对，此处应该为操作成功的提示，修改控制器 TopicsController.php ，将提示标示改为 <code>success</code>，将提示语修改为中文，如下图：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/20/1/efMLHRCtUI.png\" alt=\"file\" /></p>\n\n<pre><code><span class=\"token keyword\" style=\"color:rgb(102,217,239);\">return</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\" style=\"color:rgb(230,219,116);\">route</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'topics.show\'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">id</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\" style=\"color:rgb(230,219,116);\">with</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'success\'</span><span class=\"token punctuation\">,</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'成功创建主题！\'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\" style=\"color:rgb(102,217,239);\">return</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\" style=\"color:rgb(230,219,116);\">route</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'topics.show\'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">id</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\" style=\"color:rgb(230,219,116);\">with</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'success\'</span><span class=\"token punctuation\">,</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'更新成功！\'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\" style=\"color:rgb(102,217,239);\">return</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\" style=\"color:rgb(230,219,116);\">route</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'topics.index\'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\" style=\"color:rgb(230,219,116);\">with</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'success\'</span><span class=\"token punctuation\">,</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'成功删除！\'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n\n<h2>4. 样式调整</h2>\n\n<p>除了页面结构的调整外，我们还有话题内容的样式需要调整。下面这份内容样式来自于 <a href=\"https://laravel-china.org/\">Laravel China 社区</a> 站点，我们直接使用即可。因为内容较多，我们将其放置于另一个文件中：</p>\n\n<p>resources/assets/sass/_topic_body.scss</p>\n\n<pre><code><span class=\"token punctuation\">.</span>simditor<span class=\"token operator\">-</span>body<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span>topic<span class=\"token operator\">-</span>body <span class=\"token punctuation\">{</span>\n    font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n    line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1.3</span><span class=\"token punctuation\">;</span>\n    overflow<span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n    line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1.6</span><span class=\"token punctuation\">;</span>\n    word<span class=\"token operator\">-</span>wrap<span class=\"token punctuation\">:</span> <span class=\"token keyword\" style=\"color:rgb(102,217,239);\">break</span><span class=\"token operator\">-</span>word<span class=\"token punctuation\">;</span>\n    a <span class=\"token punctuation\">{</span>\n        background<span class=\"token punctuation\">:</span> transparent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    a<span class=\"token punctuation\">:</span>active<span class=\"token punctuation\">,</span>\n    a<span class=\"token punctuation\">:</span>hover <span class=\"token punctuation\">{</span>\n        outline<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    ol li <span class=\"token punctuation\">{</span>\n        margin<span class=\"token punctuation\">:</span> 8px <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    pre<span class=\"token punctuation\">[</span><span class=\"token keyword\" style=\"color:rgb(102,217,239);\">class</span><span class=\"token operator\">*</span><span class=\"token operator\">=</span>language<span class=\"token operator\">-</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n        margin<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1</span><span class=\"token punctuation\">.</span>2em <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token operator\">!</span>important<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    strong <span class=\"token punctuation\">{</span>\n        font<span class=\"token operator\">-</span>weight<span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    h1 <span class=\"token punctuation\">{</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> 2em<span class=\"token punctuation\">;</span>\n        margin<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">.</span>67em <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    img <span class=\"token punctuation\">{</span>\n        border<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    hr <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">-</span>moz<span class=\"token operator\">-</span>box<span class=\"token operator\">-</span>sizing<span class=\"token punctuation\">:</span> content<span class=\"token operator\">-</span>box<span class=\"token punctuation\">;</span>\n        box<span class=\"token operator\">-</span>sizing<span class=\"token punctuation\">:</span> content<span class=\"token operator\">-</span>box<span class=\"token punctuation\">;</span>\n        height<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    table <span class=\"token punctuation\">{</span>\n        border<span class=\"token operator\">-</span>collapse<span class=\"token punctuation\">:</span> collapse<span class=\"token punctuation\">;</span>\n        border<span class=\"token operator\">-</span>spacing<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    td<span class=\"token punctuation\">,</span>\n    th <span class=\"token punctuation\">{</span>\n        padding<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">*</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">-</span>moz<span class=\"token operator\">-</span>box<span class=\"token operator\">-</span>sizing<span class=\"token punctuation\">:</span> border<span class=\"token operator\">-</span>box<span class=\"token punctuation\">;</span>\n        box<span class=\"token operator\">-</span>sizing<span class=\"token punctuation\">:</span> border<span class=\"token operator\">-</span>box<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    a <span class=\"token punctuation\">{</span>\n        text<span class=\"token operator\">-</span>decoration<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    a<span class=\"token punctuation\">:</span>hover<span class=\"token punctuation\">,</span>\n    a<span class=\"token punctuation\">:</span>focus<span class=\"token punctuation\">,</span>\n    a<span class=\"token punctuation\">:</span>active <span class=\"token punctuation\">{</span>\n        text<span class=\"token operator\">-</span>decoration<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    hr <span class=\"token punctuation\">{</span>\n        height<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        margin<span class=\"token punctuation\">:</span> 15px <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        overflow<span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n        background<span class=\"token punctuation\">:</span> transparent<span class=\"token punctuation\">;</span>\n        border<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        border<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> 1px solid <span class=\"token shell-comment comment\">#ddd;</span>\n    <span class=\"token punctuation\">}</span>\n    hr<span class=\"token punctuation\">:</span>before<span class=\"token punctuation\">,</span>\n    hr<span class=\"token punctuation\">:</span>after <span class=\"token punctuation\">{</span>\n        display<span class=\"token punctuation\">:</span> table<span class=\"token punctuation\">;</span>\n        content<span class=\"token punctuation\">:</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\" \"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    hr<span class=\"token punctuation\">:</span>after <span class=\"token punctuation\">{</span>\n        clear<span class=\"token punctuation\">:</span> both<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    blockquote <span class=\"token punctuation\">{</span>\n        margin<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    ul<span class=\"token punctuation\">,</span>\n    ol <span class=\"token punctuation\">{</span>\n        padding<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    ol ol <span class=\"token punctuation\">{</span>\n        list<span class=\"token operator\">-</span>style<span class=\"token operator\">-</span>type<span class=\"token punctuation\">:</span> lower<span class=\"token operator\">-</span>roman<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    dd <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>left<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    code<span class=\"token punctuation\">,</span>\n    pre <span class=\"token punctuation\">{</span>\n        font<span class=\"token operator\">-</span>family<span class=\"token punctuation\">:</span> monaco<span class=\"token punctuation\">,</span> Consolas<span class=\"token punctuation\">,</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\"Liberation Mono\"</span><span class=\"token punctuation\">,</span> Menlo<span class=\"token punctuation\">,</span> Courier<span class=\"token punctuation\">,</span> monospace<span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    pre <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        overflow<span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span>topic<span class=\"token operator\">-</span>body<span class=\"token operator\">&gt;</span><span class=\"token operator\">*</span><span class=\"token punctuation\">:</span>first<span class=\"token operator\">-</span>child <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span> <span class=\"token operator\">!</span>important<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span>topic<span class=\"token operator\">-</span>body<span class=\"token operator\">&gt;</span><span class=\"token operator\">*</span><span class=\"token punctuation\">:</span>last<span class=\"token operator\">-</span>child <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span> <span class=\"token operator\">!</span>important<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span>anchor <span class=\"token punctuation\">{</span>\n        position<span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n        top<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        bottom<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        left<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        display<span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n        padding<span class=\"token operator\">-</span>right<span class=\"token punctuation\">:</span> 6px<span class=\"token punctuation\">;</span>\n        padding<span class=\"token operator\">-</span>left<span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>left<span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span>30px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span>anchor<span class=\"token punctuation\">:</span>focus <span class=\"token punctuation\">{</span>\n        outline<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    h1<span class=\"token punctuation\">,</span>\n    h2<span class=\"token punctuation\">,</span>\n    h3<span class=\"token punctuation\">,</span>\n    h4<span class=\"token punctuation\">,</span>\n    h5<span class=\"token punctuation\">,</span>\n    h6 <span class=\"token punctuation\">{</span>\n        position<span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1</span><span class=\"token punctuation\">.</span>0em<span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> 16px<span class=\"token punctuation\">;</span>\n        line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1.4</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    h1 <span class=\"token punctuation\">{</span>\n        padding<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">.</span>3em<span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">2</span><span class=\"token punctuation\">.</span>25em<span class=\"token punctuation\">;</span>\n        line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1.2</span><span class=\"token punctuation\">;</span>\n        border<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> 1px solid <span class=\"token shell-comment comment\">#eee;</span>\n    <span class=\"token punctuation\">}</span>\n    h2 <span class=\"token punctuation\">{</span>\n        padding<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">.</span>3em<span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1</span><span class=\"token punctuation\">.</span>3em<span class=\"token punctuation\">;</span>\n        line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1.225</span><span class=\"token punctuation\">;</span>\n        border<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> 1px solid <span class=\"token shell-comment comment\">#eee;</span>\n    <span class=\"token punctuation\">}</span>\n    h3 <span class=\"token punctuation\">{</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1</span><span class=\"token punctuation\">.</span>2em<span class=\"token punctuation\">;</span>\n        line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1.43</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    h4 <span class=\"token punctuation\">{</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1</span><span class=\"token punctuation\">.</span>1em<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    h5 <span class=\"token punctuation\">{</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1</span><span class=\"token punctuation\">.</span>0em<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    h6 <span class=\"token punctuation\">{</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">.</span>9em<span class=\"token punctuation\">;</span>\n        color<span class=\"token punctuation\">:</span> <span class=\"token shell-comment comment\">#777;</span>\n    <span class=\"token punctuation\">}</span>\n    p<span class=\"token punctuation\">,</span>\n    blockquote<span class=\"token punctuation\">,</span>\n    ul<span class=\"token punctuation\">,</span>\n    ol<span class=\"token punctuation\">,</span>\n    dl<span class=\"token punctuation\">,</span>\n    table<span class=\"token punctuation\">,</span>\n    pre <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> 0px<span class=\"token punctuation\">;</span>\n        line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    hr <span class=\"token punctuation\">{</span>\n        border<span class=\"token punctuation\">:</span> 2px dashed <span class=\"token shell-comment comment\">#F0F4F6;</span>\n        border<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> 0px<span class=\"token punctuation\">;</span>\n        margin<span class=\"token punctuation\">:</span> 18px auto<span class=\"token punctuation\">;</span>\n        width<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">50</span><span class=\"token operator\">%</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    ul<span class=\"token punctuation\">,</span>\n    ol <span class=\"token punctuation\">{</span>\n        padding<span class=\"token operator\">-</span>left<span class=\"token punctuation\">:</span> 2em<span class=\"token punctuation\">;</span>\n        padding<span class=\"token punctuation\">:</span> 10px 20px 10px 30px<span class=\"token punctuation\">;</span>\n        color<span class=\"token punctuation\">:</span> <span class=\"token shell-comment comment\">#7d8688;</span>\n    <span class=\"token punctuation\">}</span>\n    ol ol<span class=\"token punctuation\">,</span>\n    ol ul <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    li<span class=\"token operator\">&gt;</span>p <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> 6px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    dl <span class=\"token punctuation\">{</span>\n        padding<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    dl dt <span class=\"token punctuation\">{</span>\n        padding<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> 6px<span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>style<span class=\"token punctuation\">:</span> italic<span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>weight<span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    dl dd <span class=\"token punctuation\">{</span>\n        padding<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span> 16px<span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> 16px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    blockquote <span class=\"token punctuation\">{</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span>\n        padding<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span> 15px<span class=\"token punctuation\">;</span>\n        color<span class=\"token punctuation\">:</span> <span class=\"token shell-comment comment\">#777;</span>\n        border<span class=\"token operator\">-</span>left<span class=\"token punctuation\">:</span> 4px solid <span class=\"token shell-comment comment\">#ddd;</span>\n    <span class=\"token punctuation\">}</span>\n    blockquote<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">:</span>first<span class=\"token operator\">-</span>child <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">20</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    blockquote<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">:</span>last<span class=\"token operator\">-</span>child <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">20</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    blockquote <span class=\"token punctuation\">{</span>\n        margin<span class=\"token punctuation\">:</span> 20px <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token operator\">!</span>important<span class=\"token punctuation\">;</span>\n        background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> <span class=\"token shell-comment comment\">#f5f8fc;</span>\n        padding<span class=\"token punctuation\">:</span> 1rem<span class=\"token punctuation\">;</span>\n        color<span class=\"token punctuation\">:</span> <span class=\"token shell-comment comment\">#8796A8;</span>\n        border<span class=\"token operator\">-</span>left<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    table <span class=\"token punctuation\">{</span>\n        display<span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n        width<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">100</span><span class=\"token operator\">%</span><span class=\"token punctuation\">;</span>\n        overflow<span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n        margin<span class=\"token punctuation\">:</span> 25px <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    table th <span class=\"token punctuation\">{</span>\n        font<span class=\"token operator\">-</span>weight<span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    table th<span class=\"token punctuation\">,</span>\n    table td <span class=\"token punctuation\">{</span>\n        padding<span class=\"token punctuation\">:</span> 6px 13px<span class=\"token punctuation\">;</span>\n        border<span class=\"token punctuation\">:</span> 1px solid <span class=\"token shell-comment comment\">#ddd;</span>\n    <span class=\"token punctuation\">}</span>\n    table tr <span class=\"token punctuation\">{</span>\n        background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> <span class=\"token shell-comment comment\">#fff;</span>\n        border<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> 1px solid <span class=\"token shell-comment comment\">#ccc;</span>\n    <span class=\"token punctuation\">}</span>\n    table tr<span class=\"token punctuation\">:</span>nth<span class=\"token operator\">-</span><span class=\"token function\" style=\"color:rgb(230,219,116);\">child</span><span class=\"token punctuation\">(</span>2n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> <span class=\"token shell-comment comment\">#f8f8f8;</span>\n    <span class=\"token punctuation\">}</span>\n    img <span class=\"token punctuation\">{</span>\n        max<span class=\"token operator\">-</span>width<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">100</span><span class=\"token operator\">%</span><span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">-</span>moz<span class=\"token operator\">-</span>box<span class=\"token operator\">-</span>sizing<span class=\"token punctuation\">:</span> border<span class=\"token operator\">-</span>box<span class=\"token punctuation\">;</span>\n        box<span class=\"token operator\">-</span>sizing<span class=\"token punctuation\">:</span> border<span class=\"token operator\">-</span>box<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    img <span class=\"token punctuation\">{</span>\n        border<span class=\"token punctuation\">:</span> 1px solid <span class=\"token shell-comment comment\">#ddd;</span>\n        box<span class=\"token operator\">-</span>shadow<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span> 30px <span class=\"token shell-comment comment\">#ccc;</span>\n        <span class=\"token operator\">-</span>moz<span class=\"token operator\">-</span>box<span class=\"token operator\">-</span>shadow<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span> 30px <span class=\"token shell-comment comment\">#ccc;</span>\n        <span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>box<span class=\"token operator\">-</span>shadow<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span> 30px <span class=\"token shell-comment comment\">#ccc;</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    code <span class=\"token punctuation\">{</span>\n        background<span class=\"token punctuation\">:</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">rgba</span><span class=\"token punctuation\">(</span><span class=\"token number\" style=\"color:rgb(174,129,255);\">90</span><span class=\"token punctuation\">,</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">87</span><span class=\"token punctuation\">,</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">87</span><span class=\"token punctuation\">,</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        margin<span class=\"token punctuation\">:</span> 5px<span class=\"token punctuation\">;</span>\n        color<span class=\"token punctuation\">:</span> <span class=\"token shell-comment comment\">#858080;</span>\n        border<span class=\"token operator\">-</span>radius<span class=\"token punctuation\">:</span> 4px<span class=\"token punctuation\">;</span>\n        background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> <span class=\"token shell-comment comment\">#f9fafa;</span>\n        border<span class=\"token punctuation\">:</span> 1px solid <span class=\"token shell-comment comment\">#e4e4e4;</span>\n        max<span class=\"token operator\">-</span>width<span class=\"token punctuation\">:</span> 740px<span class=\"token punctuation\">;</span>\n        overflow<span class=\"token operator\">-</span>x<span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>9em<span class=\"token punctuation\">;</span>\n        padding<span class=\"token punctuation\">:</span> 1px 2px 1px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    code<span class=\"token punctuation\">:</span>before<span class=\"token punctuation\">,</span>\n    code<span class=\"token punctuation\">:</span>after <span class=\"token punctuation\">{</span>\n        letter<span class=\"token operator\">-</span>spacing<span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">.</span>2em<span class=\"token punctuation\">;</span>\n        content<span class=\"token punctuation\">:</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\"\\00a0\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    pre<span class=\"token operator\">&gt;</span>code <span class=\"token punctuation\">{</span>\n        padding<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        margin<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">100</span><span class=\"token operator\">%</span><span class=\"token punctuation\">;</span>\n        white<span class=\"token operator\">-</span>space<span class=\"token punctuation\">:</span> pre<span class=\"token punctuation\">;</span>\n        background<span class=\"token punctuation\">:</span> transparent<span class=\"token punctuation\">;</span>\n        border<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span>highlight <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> 16px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span>highlight pre<span class=\"token punctuation\">,</span>\n    pre <span class=\"token punctuation\">{</span>\n        padding<span class=\"token punctuation\">:</span> 14px<span class=\"token punctuation\">;</span>\n        overflow<span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n        line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">1.45</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// background-color: #4e4e4e;</span>\n        border<span class=\"token operator\">-</span>radius<span class=\"token punctuation\">:</span> 3px<span class=\"token punctuation\">;</span>\n        color<span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span>\n        border<span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span>highlight pre <span class=\"token punctuation\">{</span>\n        margin<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    pre <span class=\"token punctuation\">{</span>\n        word<span class=\"token operator\">-</span>wrap<span class=\"token punctuation\">:</span> normal<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    pre code <span class=\"token punctuation\">{</span>\n        display<span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n        padding<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        margin<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n        overflow<span class=\"token punctuation\">:</span> initial<span class=\"token punctuation\">;</span>\n        line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span>\n        word<span class=\"token operator\">-</span>wrap<span class=\"token punctuation\">:</span> normal<span class=\"token punctuation\">;</span>\n        background<span class=\"token operator\">-</span>color<span class=\"token punctuation\">:</span> transparent<span class=\"token punctuation\">;</span>\n        border<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    pre code<span class=\"token punctuation\">:</span>before<span class=\"token punctuation\">,</span>\n    pre code<span class=\"token punctuation\">:</span>after <span class=\"token punctuation\">{</span>\n        content<span class=\"token punctuation\">:</span> normal<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n\n<p>在主样式代码中对其进行加载，并书写页面结构的样式：</p>\n\n<p>resources/assets/sass/app.scss</p>\n\n<pre><code><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\">/* Topic Show Page */</span>\n\n@import <span class=\"token string\" style=\"color:rgb(166,226,46);\">\"topic_body\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">.</span>topics<span class=\"token operator\">-</span>show<span class=\"token operator\">-</span>page <span class=\"token punctuation\">{</span>\n\n    <span class=\"token punctuation\">.</span>panel <span class=\"token punctuation\">{</span>\n        padding<span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n\n        h1 <span class=\"token punctuation\">{</span>\n            margin<span class=\"token punctuation\">:</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">.</span>4em auto <span class=\"token number\" style=\"color:rgb(174,129,255);\">0</span><span class=\"token punctuation\">.</span>6em<span class=\"token punctuation\">;</span>\n            font<span class=\"token operator\">-</span>size<span class=\"token punctuation\">:</span> 28px<span class=\"token punctuation\">;</span>\n            line<span class=\"token operator\">-</span>height<span class=\"token punctuation\">:</span> 38px<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n\n<p>等待样式表编译完成后刷新页面：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/16/1/2SJjr7ARm0.png\" alt=\"file\" /></p>\n\n<h2>Git 版本控制</h2>\n\n<p>下面把代码纳入到版本管理：</p>\n\n<pre><code>$ git add <span class=\"token operator\">-</span>A\n$ git commit <span class=\"token operator\">-</span>m <span class=\"token string\" style=\"color:rgb(166,226,46);\">\"Topic detail page\"</span></code></pre>', '1', '2', '0', '0', '0', '0', ' 5.4. 显示帖子  Laravel 教程 - Web 开发实战进阶 ( Laravel 5.5 ) /  第五章. 帖子的 CRUD 帖子详情页 现在我们已经能撰写文章，发布帖子了，接下来我们把发布的内容显示出来。 1. 路由和控制器 代码生成器已经为...', '5-4-displays-a-post', '2018-04-14 19:32:25', '2018-04-15 18:26:51');
INSERT INTO `topics` VALUES ('3', '5.5. XSS 安全漏洞', '<p> 5.5. XSS 安全漏洞 <br /></p>\n\n<p><a href=\"https://laravel-china.org/courses/laravel-intermediate-training-5.5\"> Laravel 教程 - Web 开发实战进阶 ( Laravel 5.5 )</a> <span style=\"color:rgb(202,202,202);\">/</span> <a> 第五章. 帖子的 CRUD</a></p>\n\n<h2>XSS</h2>\n\n<p>目前我们的项目中存在非常严重的 XSS 安全漏洞。作为一个合格的 Web 开发工程师，必须遵循一个安全原则：</p>\n\n<blockquote><p>永远不要信任用户提交的数据。</p></blockquote>\n\n<p>我们在创建话题时对用户提交的内容字段 <code>body</code> 太过信任，没有对其做过滤处理，即原封不动的显示在页面上，这是非常危险的。</p>\n\n<p>XSS 也称跨站脚本攻击 (Cross Site Scripting)，恶意攻击者往 Web 页面里插入恶意 JavaScript 代码，当用户浏览该页之时，嵌入其中 Web 里面的 JavaScript 代码会被执行，从而达到恶意攻击用户的目的。</p>\n\n<p>一种比较常见的 XSS 攻击是 Cookie 窃取。我们都知道网站是通过 Cookie 来辨别用户身份的，一旦恶意攻击者能在页面中执行 JavaScript 代码，他们即可通过 JavaScript 读取并窃取你的 Cookie，拿到你的 Cookie 以后即可伪造你的身份登录网站。（扩展阅读 —— <a href=\"https://www.ibm.com/developerworks/cn/rational/08/0325_segal/\">IBM 文档库：跨站点脚本攻击深入解析 </a>）</p>\n\n<p>有两种方法可以避免 XSS 攻击：</p>\n\n<ul><li>第一种，对用户提交的数据进行过滤；</li><li>第二种，Web 网页显示时对数据进行特殊处理，一般使用 <code>htmlspecialchars()</code> 输出。</li></ul>\n\n<p>Laravel 的 Blade 语法 <code>{ { } }</code> 会自动调用 PHP <code>htmlspecialchars</code> 函数来避免 XSS 攻击。但是因为我们支持 WYSIWYG 编辑器，我们使用的是 <code>{!! !!}</code> 来打印用户提交的话题内容：</p>\n\n<pre><code><span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>div</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">class</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>topic-body<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n    <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span> <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">body</span> <span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token punctuation\">}</span>\n<span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">div</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span></span></code></pre>\n\n<p>Blade 的 <code>{!! !!}</code> 语法是直接数据，不会对数据做任何处理。在我们这种场景下，因为业务逻辑的特殊性，第二种方法不适用，我们将使用第一种方法，对用户提交的数据进行过滤来避免 XSS 攻击。</p>\n\n<h2>布置舞台</h2>\n\n<p>编辑器 Simditor 默认为我们的内容提供转义，我们可以使用以下这段代码来测试：</p>\n\n<pre><code><span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>script</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span><span class=\"token function\" style=\"color:rgb(230,219,116);\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'存在 XSS 安全威胁！\'</span><span class=\"token punctuation\">)</span><span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">script</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span></span></code></pre>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/17/1/AEAy5WAiGI.png\" alt=\"file\" /></p>\n\n<p>提交表单后，渲染结果为安全的、被转义的内容：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/17/1/Zd4bKw10nO.png\" alt=\"file\" /></p>\n\n<p>为了方便测试，我们在编辑器中注释掉 Simditor 的代码调用（快捷键 <code>Ctrl + /</code>）：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/17/1/ZkgaewUaY7.png\" alt=\"file\" /></p>\n\n<p>打开新建话题页面，填入测试代码：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/17/1/E4qpIWgc7G.png\" alt=\"file\" /></p>\n\n<p>点击提交，出现弹框表明我们已经被 XSS 注入，用户可以很轻易地在我们的网页上运行 JavaScript 脚本：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/17/1/bir6ETM76A.png\" alt=\"file\" /></p>\n\n<p>接进来我们将着手解决此问题。</p>\n\n<h2>HTMLPurifier</h2>\n\n<p><a href=\"http://htmlpurifier.org/\">HTMLPurifier</a> 本身就是一个独立的项目，运用『白名单机制』对 HTML 文本信息进行 XSS 过滤。</p>\n\n<p>『白名单机制』指的是使用配置信息来定义『HTML 标签』、『标签属性』和『CSS 属性』数组，在执行 <code>clean()</code> 方法时，只允许配置信息『白名单』里出现的元素通过，其他都进行过滤。</p>\n\n<p>如配置信息：</p>\n\n<pre><code><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'HTML.Allowed\'</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'div,em,a[href|title|style],ul,ol,li,p[style],br\'</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\" style=\"color:rgb(166,226,46);\">\'CSS.AllowedProperties\'</span>    <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'font,font-size,font-weight,font-style,font-family\'</span><span class=\"token punctuation\">,</span></code></pre>\n\n<p>当用户提交时：</p>\n\n<pre><code><span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>a</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">someproperty</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>somevalue<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">href</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>http://example.com<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token style-attr language-css\"><span class=\"token attr-name\" style=\"color:rgb(166,226,46);\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=\"</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token property\" style=\"color:rgb(102,217,239);\">color</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">:</span><span class=\"token hexcode\">#ccc</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">font-size</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">:</span><span class=\"token number\" style=\"color:rgb(174,129,255);\">16</span>px</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n    文章内容<span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>script</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span><span class=\"token function\" style=\"color:rgb(230,219,116);\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'Alerted\'</span><span class=\"token punctuation\">)</span><span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">script</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n<span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">a</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span></span></span></code></pre>\n\n<p>会被解析为：</p>\n\n<pre><code><span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&lt;</span>a</span> <span class=\"token attr-name\" style=\"color:rgb(166,226,46);\">href</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span>http://example.com<span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token style-attr language-css\"><span class=\"token attr-name\" style=\"color:rgb(166,226,46);\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">=\"</span><span class=\"token attr-value\" style=\"color:rgb(230,219,116);\"><span class=\"token property\" style=\"color:rgb(102,217,239);\">font-size</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">:</span><span class=\"token number\" style=\"color:rgb(174,129,255);\">16</span>px</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">\"</span></span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span>\n    文章内容\n<span class=\"token markup\"><span class=\"token tag\" style=\"color:rgb(102,217,239);\"><span class=\"token tag\"><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">a</span><span class=\"token punctuation\" style=\"color:rgb(248,248,242);\">&gt;</span></span></span></span></code></pre>\n\n<p>以下内容因为未指定会被过滤：</p>\n\n<ol><li><code>someproperty</code> 未指定的 HTML 属性</li><li><code>color</code> 未指定的 CSS 属性</li><li><code>script</code> 未指定的 HTML 标签</li></ol>\n\n<h2>HTMLPurifier for Laravel 5</h2>\n\n<p><a href=\"https://github.com/mewebstudio/Purifier\">HTMLPurifier for Laravel</a> 是对 HTMLPurifier 针对 Laravel 框架的一个封装。本章节中，我们将使用此扩展包来对用户内容进行过滤。</p>\n\n<h3>1. 安装 HTMLPurifier for Laravel 5</h3>\n\n<p>使用 Composer 安装：</p>\n\n<pre><code>$ composer <span class=\"token keyword\" style=\"color:rgb(102,217,239);\">require</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\"mews/purifier:~2.0\"</span></code></pre>\n\n<h3>2. 配置 HTMLPurifier for Laravel 5</h3>\n\n<p>命令行下运行</p>\n\n<pre><code>$ php artisan vendor<span class=\"token punctuation\">:</span>publish <span class=\"token operator\">--</span>provider<span class=\"token operator\">=</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\"Mews\\Purifier\\PurifierServiceProvider\"</span></code></pre>\n\n<p>请将配置信息替换为以下:</p>\n\n<p>config/purifier.php</p>\n\n<pre><code><span class=\"token delimiter\">\n\n<span class=\"token keyword\" style=\"color:rgb(102,217,239);\">return</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'encoding\'</span>      <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'UTF-8\'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'finalize\'</span>      <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token boolean\" style=\"color:rgb(174,129,255);\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'cachePath\'</span>     <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">storage_path</span><span class=\"token punctuation\">(</span><span class=\"token string\" style=\"color:rgb(166,226,46);\">\'app/purifier\'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'cacheFileMode\'</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token number\" style=\"color:rgb(174,129,255);\">0755</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'settings\'</span>      <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'user_topic_body\'</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'HTML.Doctype\'</span>             <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'XHTML 1.0 Transitional\'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'HTML.Allowed\'</span>             <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'div,b,strong,i,em,a[href|title],ul,ol,ol[start],li,p[style],br,span[style],img[width|height|alt|src],*[style|class],pre,hr,code,h2,h3,h4,h5,h6,blockquote,del,table,thead,tbody,tr,th,td\'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'CSS.AllowedProperties\'</span>    <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'font,font-size,font-weight,font-style,margin,width,height,font-family,text-decoration,padding-left,color,background-color,text-align\'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'AutoFormat.AutoParagraph\'</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token boolean\" style=\"color:rgb(174,129,255);\">true</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'AutoFormat.RemoveEmpty\'</span>   <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token boolean\" style=\"color:rgb(174,129,255);\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></span></code></pre>\n\n<p>配置里的 <code>user_topic_body</code> 是我们为话题内容定制的，配合 <code>clean()</code> 方法使用：</p>\n\n<pre><code><span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">body</span> <span class=\"token operator\">=</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">clean</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">body</span><span class=\"token punctuation\">,</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'user_topic_body\'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n\n<h2>开始过滤</h2>\n\n<p>一切准备就绪，现在我们只需要在数据入库前进行过滤即可：</p>\n\n<p>app/Observers/TopicObserver.php</p>\n\n<pre><code><span class=\"token delimiter\">\n\n<span class=\"token keyword\" style=\"color:rgb(102,217,239);\">namespace</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Observers</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\" style=\"color:rgb(102,217,239);\">use</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Models<span class=\"token punctuation\">\\</span>Topic</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// creating, created, updating, updated, saving,</span>\n<span class=\"token comment\">// saved,  deleting, deleted, restoring, restored</span>\n\n<span class=\"token keyword\" style=\"color:rgb(102,217,239);\">class</span> <span class=\"token class-name\">TopicObserver</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\" style=\"color:rgb(102,217,239);\">public</span> <span class=\"token keyword\" style=\"color:rgb(102,217,239);\">function</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">saving</span><span class=\"token punctuation\">(</span>Topic <span class=\"token variable\">$topic</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">body</span> <span class=\"token operator\">=</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">clean</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">body</span><span class=\"token punctuation\">,</span> <span class=\"token string\" style=\"color:rgb(166,226,46);\">\'user_topic_body\'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">excerpt</span> <span class=\"token operator\">=</span> <span class=\"token function\" style=\"color:rgb(230,219,116);\">make_excerpt</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$topic</span><span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token property\" style=\"color:rgb(102,217,239);\">body</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre>\n\n<p>浏览器访问话题创建页面，并填入测试内容：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/17/1/RWM1hNFU4S.png\" alt=\"file\" /></p>\n\n<p>提交表单后的结果，只剩下正常内容，并且没有弹框：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/17/1/j9NGPWarlZ.png\" alt=\"file\" /></p>\n\n<p>数据库里可以看到我们提交的 XSS 注入内容已被过滤：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/17/1/UiKhBYWDBT.png\" alt=\"file\" /></p>\n\n<p>至此 XSS 安全漏洞已修复。最后不要忘了为我们的代码去掉注释：</p>\n\n<p><img src=\"https://fsdhubcdn.phphub.org/uploads/images/201710/17/1/HlXtejHLEu.png\" alt=\"file\" /></p>\n\n<h2>Git 版本控制</h2>\n\n<p>下面把代码纳入到版本管理：</p>\n\n<pre><code>$ git add <span class=\"token operator\">-</span>A\n$ git commit <span class=\"token operator\">-</span>m <span class=\"token string\" style=\"color:rgb(166,226,46);\">\"Prevent XSS injection\"</span></code></pre>', '1', '2', '0', '0', '0', '0', '&nbsp;5.5. XSS 安全漏洞&nbsp;&nbsp;Laravel 教程 - Web 开发实战进阶 ( Laravel 5.5 )&nbsp;/&nbsp;&nbsp;第五章. 帖子的 CRUDXSS目前我们的项目中存在非常严重的 XSS 安全漏洞。作为一个合格的 Web 开发工程师，...', null, '2018-04-14 19:47:19', '2018-04-15 15:59:29');
INSERT INTO `topics` VALUES ('11', 'supervisor 从安装到使用', '<p><strong>一、安装</strong></p>\n\n<ul><li>源码安装</li></ul>\n\n<p>先下载最新的supervisor安装包：<a href=\"https://link.jianshu.com?t=https%3A%2F%2Fpypi.python.org%2Fpypi%2Fsupervisor\">https://pypi.python.org/pypi/supervisor</a> ， 如：</p>\n\n<pre><code><span class=\"hljs-built_in\">cd</span> /usr/<span class=\"hljs-built_in\">local</span>/src\nwget https://pypi.python.org/packages/44/60/698e54b4a4a9b956b2d709b4b7b676119c833d811d53ee2500f1b5e96dc3/supervisor-3.3.4.tar.gz\ntar -zxvf supervisor-3.3.4.tar.gz\n<span class=\"hljs-built_in\">cd</span> supervisor-3.3.4\npython setup.py install <span class=\"hljs-comment\">#本地python版本为python2.7</span>\n<span class=\"hljs-comment\"># python2.7 setup.py install #本地python版本为python3以上</span>\n</code></pre>\n\n<ul><li> (ubuntu)可以使用一下命令<span style=\"color:rgb(125,134,136);font-size:16px;\">安装</span>:</li></ul>\n\n<pre><code><span class=\"hljs-built_in\" style=\"margin:0px;color:rgb(79,79,79);\">sudo</span> apt-get install supervisor</code></pre>\n\n<p style=\"text-align:justify;\">安装成功后,supervisor就会默认启动</p>\n\n<p><strong>二、配置</strong></p>\n\n<p>1.生成配置文件</p>\n\n<pre><code>echo_supervisord_conf &gt; <span class=\"hljs-regexp\">/etc/</span>supervisord.conf\n</code></pre>\n\n<p>2.启动</p>\n\n<pre><code>supervisord -c /etc/supervisord.conf\n</code></pre>\n\n<p>查看 supervisord 是否在运行：</p>\n\n<pre><code>ps aux | grep supervisord\n</code></pre>\n\n<p>3.配置</p>\n\n<p>打开配置文件</p>\n\n<pre><code>vim /etc/supervisord.conf\n</code></pre>\n\n<p>在配置文件底部，配置include</p>\n\n<pre><code>[include]\nfiles=/etc/supervisor/*.conf <span class=\"hljs-comment\">#若你本地无/etc/supervisor目录，请自建</span>\n</code></pre>\n\n<p>用supervisor管理进程，配置如下：</p>\n\n<pre><code><span class=\"hljs-built_in\">cd</span> /etc/supervisor\nvim ossfs.conf <span class=\"hljs-comment\"># 这里的文件名称自定义</span>\n</code></pre>\n\n<p>加入以下内容：</p>\n\n<pre><code>[program:meta.txn.recover.on.error]\ncommand=/cas/bin/meta.txn.recover.on.error ; 被监控的进程路径\nnumprocs=1                    ; 启动几个进程\ndirectory=/cas/bin            ; 执行前要不要先cd到目录去，一般不用\nautostart=true                ; 随着supervisord的启动而启动\nautorestart=true              ; 自动重启。。当然要选上了\nstartretries=10               ; 启动失败时的最多重试次数\nexitcodes=0                   ; 正常退出代码（是说退出代码是这个时就不再重启了吗？待确定）\nstopsignal=KILL               ; 用来杀死进程的信号\nstopwaitsecs=10               ; 发送SIGKILL前的等待时间\nredirect_stderr=true          ; 重定向stderr到stdout\nstdout_logfile=logfile        ; 指定日志文件</code></pre>\n\n<p>这里是启动要配置的参数，请根据自己的项目自定义添加</p>\n\n<p>horizon实例：</p>\n\n<pre><code>[program:horizon]\nprocess_name=%(program_name)s\ncommand=php /home/forge/app.com/artisan horizon\nautostart=true\nautorestart=true\nuser=forge\nredirect_stderr=true\nstdout_logfile=/home/forge/app.com/horizon.log\n</code></pre>\n\n<p>更改了supervisor配置文件，需要重启,运行以下指令：</p>\n\n<pre><code>supervisorctl reload\n</code></pre>\n\n<p>4.supervisorctl的用法</p>\n\n<pre><code>supervisorctl start programxxx，启动某个进程\n\nsupervisorctl restart programxxx，重启某个进程\n\nsupervisorctl stop groupworker: ，重启所有属于名为groupworker这个分组的进程(start,restart同理)\n\nsupervisorctl stop all，停止全部进程，注：start、restart、stop都不会载入最新的配置文件。\n\nsupervisorctl reload，载入最新的配置文件，停止原有进程并按新的配置启动、管理所有进程。\n\nsupervisorctl update，根据最新的配置文件，启动新配置或有改动的进程，配置没有改动的进程不会受影响而重启。\n\nsupervisor启动和停止的日志文件存放在/var/log/supervisor/supervisord.log<br /></code></pre>\n\n<p><span style=\"color:rgb(79,79,79);font-size:16px;\">注意：显式用stop停止掉的进程，用reload或者update都不会自动重启</span><br /></p>\n\n<p>5.若不使用控制台来管理进程，用浏览器来管理，该如何配置？</p>\n\n<p>打开配置文件</p>\n\n<pre><code>vim /etc/supervisord.conf\n</code></pre>\n\n<p>配置 <strong>inet_http_server</strong></p>\n\n<pre><code>[inet_http_server]       \nport=127.0.0.1:9001     ; 服务器ip\nusername=xxx        ;自定义\npassword=xxx        ;自定义\n</code></pre>\n\n<p><strong>三、设置开机启动</strong></p>\n\n<pre><code>vim /etc/init.d/supervisord\n</code></pre>\n\n<p>添加以下脚本</p>\n\n<pre><code><span class=\"hljs-meta\">#! /bin/sh</span>\n<span class=\"hljs-comment\">### BEGIN INIT INFO</span>\n<span class=\"hljs-comment\"># Provides:          supervisord</span>\n<span class=\"hljs-comment\"># Required-Start:    $remote_fs</span>\n<span class=\"hljs-comment\"># Required-Stop:     $remote_fs</span>\n<span class=\"hljs-comment\"># Default-Start:     2 3 4 5</span>\n<span class=\"hljs-comment\"># Default-Stop:      0 1 6</span>\n<span class=\"hljs-comment\"># Short-Description: Example initscript</span>\n<span class=\"hljs-comment\"># Description:       This file should be used to construct scripts to be</span>\n<span class=\"hljs-comment\">#                    placed in /etc/init.d.</span>\n<span class=\"hljs-comment\">### END INIT INFO</span>\n\n<span class=\"hljs-comment\"># Author: Dan MacKinlay @phm.gov.au&gt;</span>\n<span class=\"hljs-comment\"># Based on instructions by Bertrand Mathieu</span>\n<span class=\"hljs-comment\"># http://zebert.blogspot.com/2009/05/installing-django-solr-varnish-and.html</span>\n\n<span class=\"hljs-comment\"># Do NOT \"set -e\"</span>\n\n<span class=\"hljs-comment\"># PATH should only include /usr/* if it runs after the mountnfs.sh script</span>\nPATH=/usr/<span class=\"hljs-built_in\">local</span>/sbin:/usr/<span class=\"hljs-built_in\">local</span>/bin:/sbin:/usr/sbin:/bin:/usr/bin\nDESC=<span class=\"hljs-string\">\"Description of the service\"</span>\nNAME=supervisord\nDAEMON=/usr/<span class=\"hljs-built_in\">local</span>/bin/supervisord\nDAEMON_ARGS=<span class=\"hljs-string\">\" -c /etc/supervisord.conf\"</span>\n<span class=\"hljs-comment\">#PIDFILE=/var/run/$NAME.pid</span>\nPIDFILE=/tmp/<span class=\"hljs-variable\">$NAME</span>.pid\nSCRIPTNAME=/etc/init.d/<span class=\"hljs-variable\">$NAME</span>\n\n<span class=\"hljs-comment\"># Exit if the package is not installed</span>\n[ -x <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$DAEMON</span>\"</span> ] || <span class=\"hljs-built_in\">exit</span> 0\n\n<span class=\"hljs-comment\"># Read configuration variable file if it is present</span>\n[ -r /etc/default/<span class=\"hljs-variable\">$NAME</span> ] &amp;&amp; . /etc/default/<span class=\"hljs-variable\">$NAME</span>\n\n<span class=\"hljs-comment\"># Load the VERBOSE setting and other rcS variables</span>\n. /lib/init/vars.sh\n\n<span class=\"hljs-comment\"># Define LSB log_* functions.</span>\n<span class=\"hljs-comment\"># Depend on lsb-base (&gt;= 3.0-6) to ensure that this file is present.</span>\n. /lib/lsb/init-functions\n\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\"># Function that starts the daemon/service</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-function\"><span class=\"hljs-title\">do_start</span></span>()\n{\n    <span class=\"hljs-comment\"># Return</span>\n    <span class=\"hljs-comment\">#   0 if daemon has been started</span>\n    <span class=\"hljs-comment\">#   1 if daemon was already running</span>\n    <span class=\"hljs-comment\">#   2 if daemon could not be started</span>\n    start-stop-daemon --start --quiet --pidfile <span class=\"hljs-variable\">$PIDFILE</span> --<span class=\"hljs-built_in\">exec</span> <span class=\"hljs-variable\">$DAEMON</span> --<span class=\"hljs-built_in\">test</span> &gt; /dev/null \\\n        || <span class=\"hljs-built_in\">return</span> 1\n    start-stop-daemon --start --quiet --pidfile <span class=\"hljs-variable\">$PIDFILE</span> --<span class=\"hljs-built_in\">exec</span> <span class=\"hljs-variable\">$DAEMON</span> -- \\\n        <span class=\"hljs-variable\">$DAEMON_ARGS</span> \\\n        || <span class=\"hljs-built_in\">return</span> 2\n    <span class=\"hljs-comment\"># Add code here, if necessary, that waits for the process to be ready</span>\n    <span class=\"hljs-comment\"># to handle requests from services started subsequently which depend</span>\n    <span class=\"hljs-comment\"># on this one.  As a last resort, sleep for some time.</span>\n}\n\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\"># Function that stops the daemon/service</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-function\"><span class=\"hljs-title\">do_stop</span></span>()\n{\n    <span class=\"hljs-comment\"># Return</span>\n    <span class=\"hljs-comment\">#   0 if daemon has been stopped</span>\n    <span class=\"hljs-comment\">#   1 if daemon was already stopped</span>\n    <span class=\"hljs-comment\">#   2 if daemon could not be stopped</span>\n    <span class=\"hljs-comment\">#   other if a failure occurred</span>\n    start-stop-daemon --stop --quiet --retry=TERM/30/KILL/5 --pidfile <span class=\"hljs-variable\">$PIDFILE</span> --name <span class=\"hljs-variable\">$NAME</span>\n    RETVAL=<span class=\"hljs-string\">\"$?\"</span>\n    [ <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$RETVAL</span>\"</span> = 2 ] &amp;&amp; <span class=\"hljs-built_in\">return</span> 2\n    <span class=\"hljs-comment\"># Wait for children to finish too if this is a daemon that forks</span>\n    <span class=\"hljs-comment\"># and if the daemon is only ever run from this initscript.</span>\n    <span class=\"hljs-comment\"># If the above conditions are not satisfied then add some other code</span>\n    <span class=\"hljs-comment\"># that waits for the process to drop all resources that could be</span>\n    <span class=\"hljs-comment\"># needed by services started subsequently.  A last resort is to</span>\n    <span class=\"hljs-comment\"># sleep for some time.</span>\n    start-stop-daemon --stop --quiet --oknodo --retry=0/30/KILL/5 --<span class=\"hljs-built_in\">exec</span> <span class=\"hljs-variable\">$DAEMON</span>\n    [ <span class=\"hljs-string\">\"$?\"</span> = 2 ] &amp;&amp; <span class=\"hljs-built_in\">return</span> 2\n    <span class=\"hljs-comment\"># Many daemons don\'t delete their pidfiles when they exit.</span>\n    rm -f <span class=\"hljs-variable\">$PIDFILE</span>\n    <span class=\"hljs-built_in\">return</span> <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$RETVAL</span>\"</span>\n}\n\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\"># Function that sends a SIGHUP to the daemon/service</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-function\"><span class=\"hljs-title\">do_reload</span></span>() {\n    <span class=\"hljs-comment\">#</span>\n    <span class=\"hljs-comment\"># If the daemon can reload its configuration without</span>\n    <span class=\"hljs-comment\"># restarting (for example, when it is sent a SIGHUP),</span>\n    <span class=\"hljs-comment\"># then implement that here.</span>\n    <span class=\"hljs-comment\">#</span>\n    start-stop-daemon --stop --signal 1 --quiet --pidfile <span class=\"hljs-variable\">$PIDFILE</span> --name <span class=\"hljs-variable\">$NAME</span>\n    <span class=\"hljs-built_in\">return</span> 0\n}\n\n<span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$1</span>\"</span> <span class=\"hljs-keyword\">in</span>\n  start)\n    [ <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$VERBOSE</span>\"</span> != no ] &amp;&amp; log_daemon_msg <span class=\"hljs-string\">\"Starting <span class=\"hljs-variable\">$DESC</span>\"</span> <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$NAME</span>\"</span>\n    do_start\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">\"$?\"</span> <span class=\"hljs-keyword\">in</span>\n        0|1) [ <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$VERBOSE</span>\"</span> != no ] &amp;&amp; log_end_msg 0 ;;\n        2) [ <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$VERBOSE</span>\"</span> != no ] &amp;&amp; log_end_msg 1 ;;\n    <span class=\"hljs-keyword\">esac</span>\n    ;;\n  stop)\n    [ <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$VERBOSE</span>\"</span> != no ] &amp;&amp; log_daemon_msg <span class=\"hljs-string\">\"Stopping <span class=\"hljs-variable\">$DESC</span>\"</span> <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$NAME</span>\"</span>\n    do_stop\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">\"$?\"</span> <span class=\"hljs-keyword\">in</span>\n        0|1) [ <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$VERBOSE</span>\"</span> != no ] &amp;&amp; log_end_msg 0 ;;\n        2) [ <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$VERBOSE</span>\"</span> != no ] &amp;&amp; log_end_msg 1 ;;\n    <span class=\"hljs-keyword\">esac</span>\n    ;;\n  <span class=\"hljs-comment\">#reload|force-reload)</span>\n    <span class=\"hljs-comment\">#</span>\n    <span class=\"hljs-comment\"># If do_reload() is not implemented then leave this commented out</span>\n    <span class=\"hljs-comment\"># and leave \'force-reload\' as an alias for \'restart\'.</span>\n    <span class=\"hljs-comment\">#</span>\n    <span class=\"hljs-comment\">#log_daemon_msg \"Reloading $DESC\" \"$NAME\"</span>\n    <span class=\"hljs-comment\">#do_reload</span>\n    <span class=\"hljs-comment\">#log_end_msg $?</span>\n    <span class=\"hljs-comment\">#;;</span>\n  restart|force-reload)\n    <span class=\"hljs-comment\">#</span>\n    <span class=\"hljs-comment\"># If the \"reload\" option is implemented then remove the</span>\n    <span class=\"hljs-comment\"># \'force-reload\' alias</span>\n    <span class=\"hljs-comment\">#</span>\n    log_daemon_msg <span class=\"hljs-string\">\"Restarting <span class=\"hljs-variable\">$DESC</span>\"</span> <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$NAME</span>\"</span>\n    do_stop\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">\"$?\"</span> <span class=\"hljs-keyword\">in</span>\n      0|1)\n        do_start\n        <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">\"$?\"</span> <span class=\"hljs-keyword\">in</span>\n            0) log_end_msg 0 ;;\n            1) log_end_msg 1 ;; <span class=\"hljs-comment\"># Old process is still running</span>\n            *) log_end_msg 1 ;; <span class=\"hljs-comment\"># Failed to start</span>\n        <span class=\"hljs-keyword\">esac</span>\n        ;;\n      *)\n        <span class=\"hljs-comment\"># Failed to stop</span>\n        log_end_msg 1\n        ;;\n    <span class=\"hljs-keyword\">esac</span>\n    ;;\n  *)\n    <span class=\"hljs-comment\">#echo \"Usage: $SCRIPTNAME {start|stop|restart|reload|force-reload}\" &gt;&amp;2</span>\n    <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"Usage: <span class=\"hljs-variable\">$SCRIPTNAME</span> {start|stop|restart|force-reload}\"</span> &gt;&amp;2\n    <span class=\"hljs-built_in\">exit</span> 3\n    ;;\n<span class=\"hljs-keyword\">esac</span>\n\n:\n</code></pre>\n\n<pre><code><span class=\"hljs-comment\"># 设置该脚本为可以执行</span>\nsudo chmod +x /etc/init.d/supervisord\n<span class=\"hljs-comment\"># 设置为开机自动运行</span>\nsudo update-rc.d supervisord defaults\n<span class=\"hljs-comment\"># 试一下，是否工作正常</span>\nservice supervisord stop\nservice supervisord start\n</code></pre>\n\n<p>若报错：insserv: warning: script \'service\' missing LSB tags and overrides，请执行:</p>\n\n<pre><code>sudo apt-get remove insserv</code></pre>\n\n<p>链接：<a href=\"https://www.jianshu.com/p/3658c963d28b\">https://www.jianshu.com/p/3658c963d28b</a></p>', '1', '1', '0', '0', '0', '0', '一、安装 源码安装 先下载最新的supervisor安装包：https://pypi.python.org/pypi/supervisor ， 如： cd /usr/local/src wget https://pypi.python.org/packages/44/60/698e54b4a4a9b956b2d709b4b7b676119c833d811d...', 'supervisor-from-installation-to-use', '2018-04-15 22:49:13', '2018-04-15 23:26:39');

-- ----------------------------
-- Table structure for users
-- ----------------------------
DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `remember_token` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `avatar` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `introduction` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `users_email_unique` (`email`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ----------------------------
-- Records of users
-- ----------------------------
INSERT INTO `users` VALUES ('1', 'k3nny', '516995619@qq.com', '$2y$10$cbjg7foek1s7CodqI61GCe4krmLHpX1aG.72ufWiUmKwrsZEIrgda', '9gLhUj5cuT', '2018-04-14 19:24:39', '2018-04-14 19:24:39', 'https://lccdn.phphub.org/uploads/avatars/23744_1523527983.jpg', '如果你想拥有从未有过的东西，那就去做你从未做过的事');
